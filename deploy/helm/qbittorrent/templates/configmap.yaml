apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "qbittorrent.fullname" . }}
  labels:
    {{- include "qbittorrent.labels" . | nindent 4 }}
data:
  # Web UI settings
  webui-port: {{ .Values.qbittorrent.webUIPort | quote }}
  bt-port: {{ .Values.qbittorrent.btPort | quote }}

  # Authentication
  username: {{ .Values.qbittorrent.auth.username | quote }}

  # Categories configuration (for reference)
  {{- if .Values.qbittorrent.categories.movies.enabled }}
  category-movies-path: {{ .Values.qbittorrent.categories.movies.savePath | quote }}
  {{- end }}
  {{- if .Values.qbittorrent.categories.tv.enabled }}
  category-tv-path: {{ .Values.qbittorrent.categories.tv.savePath | quote }}
  {{- end }}
  {{- if .Values.qbittorrent.categories.other.enabled }}
  category-other-path: {{ .Values.qbittorrent.categories.other.savePath | quote }}
  {{- end }}

  # Settings
  max-connections: {{ .Values.qbittorrent.settings.maxConnections | quote }}
  max-uploads: {{ .Values.qbittorrent.settings.maxUploads | quote }}
  upload-limit: {{ .Values.qbittorrent.settings.uploadLimit | quote }}
  download-limit: {{ .Values.qbittorrent.settings.downloadLimit | quote }}
